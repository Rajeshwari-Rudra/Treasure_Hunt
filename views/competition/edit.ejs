<!--
*  Competition edit view
*  Uses HTML and embedded JavaScript (EJS) 
*  to dyanmically create a webpage to edit the resource.
*
* @author Denise Case <dcase@nwmissouri.edu>
-->
<br>
<br>

<% if (competition && competition.error) { %>
<div class="alert alert-danger" role="alert"><%- competition.error %></div>
<% } %>

<div class="card">

  <div class="card-header">
    Edit Competition
  </div>

  <div class="card-body">

    <form action="/competition/save/<%= competition.id %>" method="post">

      <div class="form-group">
        <label for="name">Name:</label>
        <input type="text" class="form-control" id="name" name="name" value="<%= competition.name %>"
          autocomplete="off">
      </div>

      <br>

      <div class="form-group">
        <label for="QuestId">Quest:</label>

        <!-- select example (set value to 'id', and show 'name' to user) -->
        <!--                                                             -->
        <!-- <select class="select">                         -->
        <!--     <option value="1" selected>One</option>     -->
        <!--     <option value="2"         >Two</option>     -->
        <!--  </select>                                      -->

        <!-- tag id   is used client-side (html/css/js)      -->
        <!-- tag name is used server-side (by controllers)   -->
        <!-- as selection changes, the req.body.QuestId updates   -->

        <select class="select" id="QuestId" name="QuestId">

          <% for(let i = 0; i < quests.length; i++) { 
         let sel = ( competition.QuestId === quests[i].id ) ? "selected" : "";
         %>

          <option value='<%= quests[i].id %>' <%= sel %>>
            <%= quests[i].id %> - <%= quests[i].name %>
          </option>

          <% } %>

        </select>
      </div>

      <br>

      <div class="form-group">
        <input type="submit" class="btn btn-info" title="Submits a POST /save/:id request" value="Save" />
      </div>

    </form>
  </div>
</div>